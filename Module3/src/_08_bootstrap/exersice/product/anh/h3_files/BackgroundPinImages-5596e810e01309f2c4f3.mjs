(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["BackgroundPinImages"],{"2MPc":function(e,t,i){var a=i("JW66"),n=i("QLqj"),g=i("28DW");const c={logUrlAndFirstPinImageSig(e){if(n.b.localStorage.getItem("lastVisitedPage")===window.location.pathname)return;const t={path:window.location.pathname,ts:Date.now(),first_pin_image_signature:e||""};n.b.localStorage.prependItem("visitedPages",t,a.a.MAX_STORED_VISITED_PAGES),n.b.sessionStorage.prependItem("sessionVisitedPages",t,a.a.MAX_STORED_VISITED_PAGES),Object(g.a)("unauth.web.session.visited_pins."+(n.b.sessionStorage.getItem("sessionVisitedPages")||[]).length),n.b.localStorage.prependItem("visitedPagesBeforeLogin",t,a.a.MAX_STORED_VISITED_PAGES);try{n.b.localStorage.setItem("lastVisitedPage",window.location.pathname)}catch(i){console.error(i)}},logLastVisitedPinLandingPage(e,t){if(!e)return;const i=n.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin");if(i)for(const a of i)if(a&&a.id===e.id)return;const g={ts:Date.now(),path:window.location.pathname,id:e.id,image_signature:e.image_signature,is_shared_pin:t};n.b.localStorage.prependItem("visitedPinLandingPagesBeforeLogin",g,a.a.MAX_STORED_VISITED_PIN_PAGES)},logLastVisitedBoardLandingPage(e){if(!e||!e.board)return;const t=n.b.localStorage.getItem("visitedBoardLandingPagesBeforeLogin");if(t)for(const a of t)if(a&&a.board_id===e.board.id)return;const i={ts:Date.now(),board_id:e.board.id,first_pin_id:e.id,first_pin_image_signature:e.image_signature};n.b.localStorage.prependItem("visitedBoardLandingPagesBeforeLogin",i,a.a.MAX_STORED_VISITED_PIN_PAGES)},logPinCTAClick(e){n.b.localStorage.prependItem("visitedPages",{path:e,ts:Date.now(),actions:[1]},a.a.MAX_STORED_VISITED_PAGES)},logUnauthPins(e,t=!0){if(e.length)try{n.b.localStorage.setItem("unauthPins",e),t&&n.b.sessionStorage.prependItem("sessionUnauthPins",e[0])}catch(i){console.error(i)}},getUnauthPins:()=>n.b.localStorage.getItem("unauthPins")||[],getUnauthSessionsPins:()=>n.b.sessionStorage.getItem("sessionUnauthPins")||[]};t.a=c},L2Gz:function(e,t,i){i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return h}));var a=i("QLqj");function n(e,t){return e.some(e=>e.id===t.id)}function g(e){const t=[];if(e){const i=72e5,a=Date.now()-i;for(const n of e)n.ts>=a&&("string"==typeof n.image_signature&&t.push(n.image_signature),"string"==typeof n.first_pin_image_signature&&t.push(n.first_pin_image_signature))}return t}function c(){return{plpImages:g(a.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin")||[]),blpImages:g(a.b.localStorage.getItem("visitedBoardLandingPagesBeforeLogin")||[])}}function s(e){return e.url.split("/").pop().replace(/(--.*|\.jpg)$/g,"")}function h(e){const t=e.log_data;if(!t)return"";return JSON.parse(t).source||""}},Vs9j:function(e,t,i){i.r(t);var a=i("nKUr"),n=i("q1tI"),g=i("/MKj"),c=i("apFM"),s=i("2MPc"),h=i("L2Gz"),d=i("n6mq"),o=i("yjg8");function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r extends n.PureComponent{constructor(...e){super(...e),p(this,"state",{insertedBestPinsImages:[],insertedTopicImages:[],loading:!0,pinImages:[],seoPinImage:void 0}),p(this,"insertExtraImages",e=>this.setState({...e})),p(this,"getSEOPinImageToInsert",()=>{const{inNux:e,inRenux:t}=this.props;return e||t?this.getUnauthPinImages()[0]:void 0}),p(this,"getUnauthPinImages",(e=!1)=>{const t=e?s.a.getUnauthSessionsPins():s.a.getUnauthPins(),i=new Set;return t.filter(e=>e.images&&e.images["236x"]).map(e=>e.images["236x"]).filter(e=>{const t=i.has(e.url);return i.add(e.url),!t})}),p(this,"renderPinImage",e=>{const{data:t}=e,{height:i,url:n,width:g}=t;return Object(a.jsx)(d.B,{rounding:4,wash:!0,children:Object(a.jsx)(d.w,{alt:"pin-image",src:n,naturalWidth:g,naturalHeight:i})})}),p(this,"getBackgroundImages",()=>{const{insertedBestPinsImages:e,insertedTopicImages:t,pinImages:i,seoPinImage:a}=this.state,n=t.length+(a?1:0);let g=[];return g=g.concat(a||[]),g=g.concat(e),g=g.concat(t),g=g.concat(i.slice(n)),g})}componentDidMount(){const{defaultPinImages:e}=this.props,t=e?[...e]:c.a,i=this.getSEOPinImageToInsert();i&&t.unshift(i),this.setState({loading:!1,pinImages:t,seoPinImage:i})}componentDidUpdate(e){const{inNux:t,inRenux:i,nuxSelectedInterestImages:a,nuxStep:n}=this.props,g=e.nuxSelectedInterestImages,{seoPinImage:c}=this.state;if(g&&a&&g!==a){let e=[];if(t){a.length>g.length&&t&&(e=a[a.length-1].bestPinsImages||[])}const s=(t||i)&&"topic"===n&&0===e.length?a.filter(e=>!c||Object(h.c)(e)!==Object(h.c)(c)):[];this.insertExtraImages({insertedTopicImages:s,insertedBestPinsImages:e})}}render(){const{isFlexible:e}=this.props,{loading:t}=this.state,i=this.getBackgroundImages();return!t&&i&&Object(a.jsx)(d.e,{bottom:!0,left:!0,maxHeight:2500,overflow:"hidden",paddingY:6,paddingX:5,position:"absolute",right:!0,top:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:Object(a.jsx)(d.C,{comp:e=>this.renderPinImage(e),flexible:!!e,gutterWidth:Object(o.m)(!0,!0),items:i,minCols:o.i})})}}t.default=Object(g.connect)(e=>({nuxSelectedInterestImages:e.ui.nuxSelectedInterestImages&&e.ui.nuxSelectedInterestImages.images,nuxStep:e.ui.nuxProgress&&e.ui.nuxProgress.step}),()=>({}))(r)},apFM:function(e,t,i){t.a=[{url:"https://i.pinimg.com/236x/b3/41/6e/b3416e2688aa4d20f846aeb8127e6b3b.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/23/ad/5f/23ad5fc40270120b22bea471fe3656aa.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/83/39/1e/83391e3103e17a46e2733b09bf154a06.jpg",width:236,height:156},{url:"https://i.pinimg.com/236x/87/f7/b5/87f7b55bc3de78ef95fd36fa3a237172.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/d3/49/07/d34907c96950574c15719219e0f0dd69.jpg",width:236,height:295},{url:"https://i.pinimg.com/236x/49/ad/71/49ad71817c829e8d86ca16fa6508b0c4.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/a8/7f/53/a87f53ea636966bf24cf279ed2fdc4dc.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/36/67/b4/3667b449f3cacaaeef3f68fc9cf609be.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/9d/4f/43/9d4f43222d4fc694a61f7635f2d42892.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/48/d9/f0/48d9f0a63ac5c08b1cf2608ceb4a884f.jpg",width:236,height:419},{url:"https://i.pinimg.com/236x/3e/08/94/3e0894b99543507463864c64c6b3af49.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/4b/a4/97/4ba49798105ddfc0bfd11a980f18590f.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/b9/e9/8f/b9e98fe7ff81c026b488997900eb25fa.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/96/e0/4a/96e04ac53becd9f522988fc27343ac6e.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/5a/f5/9e/5af59e46be8a92abd880031be67ce4cc.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/71/f2/e6/71f2e6a1a13223864dd833bc128f8e2f.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/db/b2/09/dbb2099909d25dd45d3df4950429312d.jpg",width:236,height:309},{url:"https://i.pinimg.com/236x/d7/f9/b0/d7f9b0f7dc0536e923026e6af91c61d5.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/4b/6e/36/4b6e36884909d421e250050db82d013b.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/0b/85/ca/0b85ca13cbf16fa3017164b9c4b65923.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/28/d9/35/28d935a8f25905a6989709b21241e4d2.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/94/e5/fb/94e5fb084bb73b1237a73fc83eb07b45.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/ec/c7/66/ecc766782029713523ae6a5bd8544045.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/1a/c5/72/1ac572b1643cf518ef06139eca46dd1d.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/d1/8f/f9/d18ff9eaec83c75b878eebb899604b8e.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/b3/41/6e/b3416e2688aa4d20f846aeb8127e6b3b.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/23/ad/5f/23ad5fc40270120b22bea471fe3656aa.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/8f/e5/32/8fe532eea42b7c8b14947a2ced8b127d.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/29/6d/a2/296da26a335fd7079e6355225c051cf3.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/cd/53/e3/cd53e3b9ad897d5c5588094f446cbc2a.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/18/54/21/1854212e113994080084b4666b23fcc5.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/cf/0c/45/cf0c451732bb352b3c96d1951ea632dd.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/d0/e9/ee/d0e9ee92a6398e6b31b1515c2ec6ab5e.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/8d/8c/86/8d8c86e41d810497a7b60c5a0e58a95f.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/57/0c/d6/570cd6ac36a208808edabf74682cca8d.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/bd/57/32/bd5732c8291d05e8982662a1ee043411.jpg",width:236,height:188},{url:"https://i.pinimg.com/236x/1b/10/5e/1b105ea0da81722178e23c5438fb68d7.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/ee/2d/d3/ee2dd31a93246fb72490c012b16eefca.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/81/8a/ca/818aca5d5303c60bff125a5acc322fc0.jpg",width:236,height:295},{url:"https://i.pinimg.com/236x/c6/bc/64/c6bc64acbaab2cca4f9166539ff36621.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/d7/38/27/d73827a583f46fbeaf282acc001eb733.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/2a/02/05/2a0205019cb0cb1ea0baa9b95eb78ab8.jpg",width:236,height:256},{url:"https://i.pinimg.com/236x/60/81/65/60816514dcfcbcab0df772dc78ca8ed1.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/0d/2f/fb/0d2ffbcdcc414765ef441752b423a6ad.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/d0/97/0b/d0970b1c57a50afa4d6951d8b0657715.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/7d/c5/99/7dc599bce4115d38ee5b91dcd8769543.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/70/0e/56/700e56a3bccb989ab88819ade445e86e.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/ff/73/ab/ff73ab3256bbcf8abce0febb98939e4f.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/e7/1b/ba/e71bbaca118e1ae09f01bcc45b58229f.jpg",width:236,height:185},{url:"https://i.pinimg.com/236x/37/af/bf/37afbf3c16baf0f70dc083b6c6ffecec.jpg",width:236,height:298},{url:"https://i.pinimg.com/236x/64/9d/1b/649d1b77d8b28995b2902b89001f912c.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/8f/e5/32/8fe532eea42b7c8b14947a2ced8b127d.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/fc/5f/44/fc5f44cd50535f378b1e09d11433c1a8.jpg",width:236,height:330},{url:"https://i.pinimg.com/236x/21/af/78/21af78021ad083377aa3e36ae6f09fc2.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/06/41/9c/06419c4e4165596f77d721d88665e4e7.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/2a/9e/80/2a9e80b4714ac32943ddec01399b5387.jpg",width:236,height:156},{url:"https://i.pinimg.com/236x/fc/5f/44/fc5f44cd50535f378b1e09d11433c1a8.jpg",width:236,height:330}]}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/BackgroundPinImages-5596e810e01309f2c4f3.mjs.map