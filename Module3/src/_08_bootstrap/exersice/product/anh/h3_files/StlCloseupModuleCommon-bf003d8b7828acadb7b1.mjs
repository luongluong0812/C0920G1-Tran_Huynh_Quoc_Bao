(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["StlCloseupModuleCommon"],{KVYi:function(e,t,i){function n(e){return{type:"STL_SELECT",payload:{selectedStlItemId:e}}}function r(e){return{type:"STL_SHEET",payload:{currentPinDraftId:e}}}function o(e){return{type:"STL_TAGGED_PIN",payload:{stlTaggedCoords:e}}}function c({showCallout:e,type:t}){return{type:"STL_ERROR_STATE",payload:{stlCallout:{showCallout:e,type:t}}}}function a(e){return{type:"STL_MOST_RECENT_TAGGED_OBJECT_ID",payload:{mostRecentTaggedObjectId:e}}}function d(e){return{type:"SET_STL_HOVERED_TAGGED_OBJECT_ID",payload:{stlHoveredTaggedObjectId:e}}}i.d(t,"e",(function(){return n})),i.d(t,"a",(function(){return r})),i.d(t,"f",(function(){return o})),i.d(t,"c",(function(){return c})),i.d(t,"b",(function(){return a})),i.d(t,"d",(function(){return d}))},h5dB:function(e,t,i){i.r(t),i.d(t,"default",(function(){return w}));var n=i("nKUr"),r=i("q1tI"),o=i("/MKj"),c=i("dsLz"),a=i("Ye/N"),d=i("VqPN"),s=i("qD10"),l=i("ViCg"),u=i("Zxas"),h=i("rjzZ"),p=i("KVYi"),g=i("U4JR"),j=i("n6mq");const b=101,_=[4,5,6,7],m={alignItems:"center",backgroundColor:"rgba(255, 255, 255)",borderRadius:"999px",display:"flex",height:36,justifyContent:"center",marginTop:"61px",minWidth:36,width:36};function O({closeupImageSignature:e,index:t,isOwnCreatedPin:i,pinId:c,product:d}){const O=Object(o.useDispatch)(),[x,y]=Object(r.useState)(!1),[f,w]=Object(r.useState)(!1),T={view:3,element:11964,image_signature:e,commerce_data:JSON.stringify({pin_is_shop_the_look:!0,x:d.x_percent,y:d.x_percent,product_pin_id:c,product_pin_image_signature:e,pin_tag_key:d.pin_tag_key})};Object(r.useEffect)(()=>{Object(g.b)(120,T)},[]);const{pins:S}=d||{},v=S[0]||{},{grid_title:E,id:I,images:L,link:C,rich_summary:k}=v||{},D=(L||{})["236x"]||{},P=(((k||{}).products||[])[0]||{}).offer_summary||{},{price:R,max_price:A}=P||{},G=({id:e,hovered:t})=>{O(Object(p.e)(e)),y(t)},z=e=>w(e),H=!(!R&&!A),U=Object(n.jsxs)(r.Fragment,{children:[(!!R||!!A)&&Object(n.jsx)(j.e,{marginTop:2,children:Object(n.jsx)(l.a,{productDetails:P,showSalesPrice:!0,type:"text"})}),!!E&&Object(n.jsx)(j.e,{marginTop:1,children:Object(n.jsx)(j.U,{size:"sm",children:Object(u.a)(E,30)})})]});return Object(n.jsx)(r.Fragment,{children:Object(n.jsx)(s.a,{onClick:()=>{Object(g.b)(101,T),O(Object(p.e)(null))},to:f?C:"/pin/"+I,children:Object(n.jsxs)(j.e,{direction:"column",display:"flex",height:155,minHeight:155,maxHeight:155,marginEnd:3===t||7===t?0:2,marginTop:_.includes(t)?4:0,onMouseEnter:()=>G({id:v.id,hovered:!0}),onMouseLeave:()=>G({id:null,hovered:!1}),width:101,children:[Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)(j.e,{rounding:5,overflow:"hidden",minHeight:b,children:Object(n.jsx)(j.B,{wash:!0,height:b,width:b,children:Object(n.jsx)(j.w,{alt:"",color:"lightGray",fit:"cover",naturalHeight:D.height,naturalWidth:D.width,src:D.url})})}),x&&Object(n.jsx)(r.Fragment,{children:Object(n.jsx)(j.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.3)"}},height:b,width:b,rounding:5,overflow:"hidden",position:"absolute",children:Object(n.jsx)(j.e,{height:b,width:b,dangerouslySetInlineStyle:{__style:m},marginStart:1,onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),children:Object(n.jsx)(j.u,{accessibilityLabel:a.a._("Go to domain's product page","shopTheLook.Product.Clickthrough","clicking on this icon will lead you to the website product page"),icon:"arrow-up-right",color:"darkGray",size:18})})})})]}),!i&&U,i&&!(!R&&!A)&&!!E&&U,i&&(!H||!E)&&Object(n.jsx)(h.a,{size:"sm"})]})})})}var x=i("GpiV"),y=i("EC67"),f=i("M8j6");function w({closeupImageSignature:e,isOwnCreatedPin:t,pin:i,pinId:r,taggedProducts:s,viewParameter:l}){const u=Object(o.useDispatch)(),h=Object(y.g)(),p=(s||[]).filter(e=>Object(c.a)(e)),b=p.length>0,_=t||!t&&b;return Object(n.jsxs)(j.e,{marginBottom:_?10:0,marginTop:_?10:0,children:[Object(n.jsxs)(j.e,{display:"flex",justifyContent:"between",alignItems:"center",children:[Object(n.jsxs)(j.e,{display:"flex",direction:"column",children:[_&&Object(n.jsx)(j.t,{size:"sm",children:a.a._("Shop this look","closeup.shopThisLook.heading","The header for the shop this look module for exact match tagged products")}),t&&!b&&Object(n.jsx)(j.e,{width:208,children:Object(n.jsx)(j.U,{size:"sm",children:a.a._("Tag products in your image or add related products Pinners might like.","closeup.shopTheLook.tagProducts","Intructions on how to add shop the look pins")})})]}),t&&Object(n.jsx)(j.e,{display:"flex",flex:"shrink",children:Object(n.jsx)(x.a,{entryPoint:"scene_pin",imageSignature:e,onClick:({event:t})=>{Object(g.b)(101,{element:12080,view:3,viewParameter:l,image_signature:e,entry_point_source:"scene_pin",pin_id:r}),u(Object(d.a)(i)),h.push({pathname:"/pin-builder/",state:{disableAddPinDraft:!0}}),u(Object(f.y)("scene_pin")),u(Object(f.w)(e))},pinId:r,viewParameter:l})})]}),Object(n.jsx)(j.e,{marginTop:4,width:"100",wrap:!0,display:"flex",direction:"row",children:p.map((i,o)=>Object(n.jsx)(O,{closeupImageSignature:e,index:o,isOwnCreatedPin:t,pinId:r,product:i},"product.id-"+o))})]})}},rjzZ:function(e,t,i){i.d(t,"a",(function(){return c}));var n=i("nKUr"),r=(i("q1tI"),i("Ye/N")),o=i("n6mq");function c({size:e}){return Object(n.jsxs)(o.e,{marginTop:2,display:"flex",direction:"row",children:[Object(n.jsx)(o.U,{size:e,weight:"bold",children:r.a._("In review","shopTheLook.created.inReview","The product price and title for this newly tagged product is pending")}),Object(n.jsx)(o.e,{color:"lightGray",marginStart:1,rounding:"circle",width:3,children:Object(n.jsx)(o.Y,{inline:!0,text:r.a._("Once your product URL is validated, your product's name and price will appear","shopTheLook.taggedProduct.inReview.Information","Explanation about the In Review state"),children:Object(n.jsx)(o.u,{accessibilityLabel:r.a._("Information","shopTheLook.taggedProduct.inReview","Hovering over this icon will reveal why this product is in a review state"),icon:"info-circle"})})})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/StlCloseupModuleCommon-bf003d8b7828acadb7b1.mjs.map